<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hero Pet Simulator</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Arial', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
        }

        h1 {
            text-align: center;
            color: white;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
            margin-bottom: 30px;
            font-size: 2.5em;
        }

        .game-board {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 20px;
        }

        .card {
            background: white;
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
        }

        .pet-display {
            text-align: center;
        }

        .pet-avatar {
            width: 150px;
            height: 150px;
            margin: 20px auto;
            font-size: 100px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: linear-gradient(135deg, #ffd89b 0%, #19547b 100%);
            border-radius: 50%;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }

        .stat-bar {
            margin: 15px 0;
        }

        .stat-label {
            display: flex;
            justify-content: space-between;
            margin-bottom: 5px;
            font-weight: bold;
            color: #333;
        }

        .bar {
            height: 25px;
            background: #e0e0e0;
            border-radius: 12px;
            overflow: hidden;
            position: relative;
        }

        .bar-fill {
            height: 100%;
            transition: width 0.5s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            font-size: 12px;
        }

        .energy-fill {
            background: linear-gradient(90deg, #f093fb 0%, #f5576c 100%);
        }

        .health-fill {
            background: linear-gradient(90deg, #4facfe 0%, #00f2fe 100%);
        }

        .attack-fill {
            background: linear-gradient(90deg, #fa709a 0%, #fee140 100%);
        }

        .coins-display {
            background: linear-gradient(135deg, #f5af19 0%, #f12711 100%);
            color: white;
            padding: 15px;
            border-radius: 10px;
            text-align: center;
            font-size: 1.5em;
            font-weight: bold;
            margin-bottom: 20px;
        }

        .button-group {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
            margin-top: 20px;
        }

        button {
            padding: 12px 20px;
            border: none;
            border-radius: 8px;
            font-size: 16px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            color: white;
        }

        button:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.3);
        }

        button:active {
            transform: translateY(0);
        }

        button:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .btn-primary {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }

        .btn-success {
            background: linear-gradient(135deg, #11998e 0%, #38ef7d 100%);
        }

        .btn-danger {
            background: linear-gradient(135deg, #ee0979 0%, #ff6a00 100%);
        }

        .btn-warning {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
        }

        .shop-item {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 10px;
            margin-bottom: 10px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .shop-item-info {
            flex: 1;
        }

        .shop-item-name {
            font-weight: bold;
            color: #333;
            margin-bottom: 5px;
        }

        .shop-item-desc {
            font-size: 14px;
            color: #666;
        }

        .shop-item-price {
            background: linear-gradient(135deg, #f5af19 0%, #f12711 100%);
            color: white;
            padding: 8px 15px;
            border-radius: 5px;
            font-weight: bold;
            margin-right: 10px;
        }

        .log {
            background: #2c3e50;
            color: #ecf0f1;
            padding: 15px;
            border-radius: 10px;
            max-height: 200px;
            overflow-y: auto;
            font-family: 'Courier New', monospace;
            font-size: 14px;
        }

        .log-entry {
            margin-bottom: 8px;
            padding: 5px;
            border-left: 3px solid #3498db;
            padding-left: 10px;
        }

        .log-success {
            border-left-color: #2ecc71;
        }

        .log-error {
            border-left-color: #e74c3c;
        }

        .log-battle {
            border-left-color: #f39c12;
        }

        .battle-arena {
            display: grid;
            grid-template-columns: 1fr auto 1fr;
            gap: 20px;
            align-items: center;
            margin: 20px 0;
        }

        .fighter {
            text-align: center;
        }

        .fighter-avatar {
            width: 100px;
            height: 100px;
            font-size: 60px;
            margin: 0 auto 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border-radius: 50%;
        }

        .vs-text {
            font-size: 2em;
            font-weight: bold;
            color: #e74c3c;
        }

        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-5px); }
            75% { transform: translateX(5px); }
        }

        .shake {
            animation: shake 0.3s ease;
        }

        h2 {
            color: #333;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 3px solid #667eea;
        }

        .full-width {
            grid-column: 1 / -1;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ü¶∏ Hero Pet Simulator ü¶∏</h1>

        <div class="game-board">
            <!-- Pet Display -->
            <div class="card">
                <h2>Hero Pet Anda</h2>
                <div class="pet-display">
                    <div class="pet-avatar" id="petAvatar">ü¶Ö</div>
                    <h3 id="petName">Phoenix</h3>
                    <p id="petType" style="color: #666;">Hero Bird</p>
                </div>

                <div class="stat-bar">
                    <div class="stat-label">
                        <span>‚ù§Ô∏è Health</span>
                        <span id="healthValue">100/100</span>
                    </div>
                    <div class="bar">
                        <div class="bar-fill health-fill" id="healthBar" style="width: 100%">100%</div>
                    </div>
                </div>

                <div class="stat-bar">
                    <div class="stat-label">
                        <span>‚ö° Energy</span>
                        <span id="energyValue">76/100</span>
                    </div>
                    <div class="bar">
                        <div class="bar-fill energy-fill" id="energyBar" style="width: 76%">76%</div>
                    </div>
                </div>

                <div class="stat-bar">
                    <div class="stat-label">
                        <span>‚öîÔ∏è Attack</span>
                        <span id="attackValue">25</span>
                    </div>
                    <div class="bar">
                        <div class="bar-fill attack-fill" id="attackBar" style="width: 50%">Lvl 1</div>
                    </div>
                </div>

                <div class="button-group">
                    <button class="btn-success" onclick="feedPet()">üçñ Feed</button>
                    <button class="btn-primary" onclick="searchFood()">üîç Search Food</button>
                    <button class="btn-warning" onclick="train()">üí™ Train</button>
                    <button class="btn-danger" onclick="startBattle()">‚öîÔ∏è Battle!</button>
                </div>
            </div>

            <!-- Pet Shop -->
            <div class="card">
                <h2>üè™ Hero Shop</h2>
                <div class="coins-display">
                    üí∞ Coins: <span id="coins">100</span>
                </div>

                <div id="shopItems">
                    <div class="shop-item">
                        <div class="shop-item-info">
                            <div class="shop-item-name">üçñ Magic Meat</div>
                            <div class="shop-item-desc">+30 Energy</div>
                        </div>
                        <span class="shop-item-price">20üí∞</span>
                        <button class="btn-success" onclick="buyItem('meat', 20, 30)">Buy</button>
                    </div>

                    <div class="shop-item">
                        <div class="shop-item-info">
                            <div class="shop-item-name">üíä Health Potion</div>
                            <div class="shop-item-desc">+50 Health</div>
                        </div>
                        <span class="shop-item-price">30üí∞</span>
                        <button class="btn-success" onclick="buyItem('health', 30, 50)">Buy</button>
                    </div>

                    <div class="shop-item">
                        <div class="shop-item-info">
                            <div class="shop-item-name">‚öîÔ∏è Power Crystal</div>
                            <div class="shop-item-desc">+10 Attack</div>
                        </div>
                        <span class="shop-item-price">50üí∞</span>
                        <button class="btn-success" onclick="buyItem('attack', 50, 10)">Buy</button>
                    </div>

                    <div class="shop-item">
                        <div class="shop-item-info">
                            <div class="shop-item-name">‚ú® Full Restore</div>
                            <div class="shop-item-desc">Full HP & Energy</div>
                        </div>
                        <span class="shop-item-price">80üí∞</span>
                        <button class="btn-success" onclick="buyItem('restore', 80, 100)">Buy</button>
                    </div>
                </div>
            </div>

            <!-- Battle Arena -->
            <div class="card full-width" id="battleCard" style="display: none;">
                <h2>‚öîÔ∏è Battle Arena</h2>
                <div class="battle-arena">
                    <div class="fighter">
                        <div class="fighter-avatar" id="playerFighter">ü¶Ö</div>
                        <h3 id="playerName">Phoenix</h3>
                        <div class="stat-label">
                            <span>HP: <span id="playerBattleHP">100</span></span>
                        </div>
                    </div>
                    <div class="vs-text">VS</div>
                    <div class="fighter">
                        <div class="fighter-avatar" id="enemyFighter">üëπ</div>
                        <h3 id="enemyName">Dark Beast</h3>
                        <div class="stat-label">
                            <span>HP: <span id="enemyBattleHP">80</span></span>
                        </div>
                    </div>
                </div>
                <div class="button-group">
                    <button class="btn-danger" onclick="attack()">‚öîÔ∏è Attack!</button>
                    <button class="btn-warning" onclick="defend()">üõ°Ô∏è Defend</button>
                    <button class="btn-primary" onclick="useSkill()">‚ú® Special Skill</button>
                    <button class="btn-success" onclick="endBattle()">üèÉ Flee</button>
                </div>
            </div>

            <!-- Activity Log -->
            <div class="card full-width">
                <h2>üìú Activity Log</h2>
                <div class="log" id="log">
                    <div class="log-entry">Selamat datang di Hero Pet Simulator! üéÆ</div>
                    <div class="log-entry">Pet Anda Phoenix siap bertualang! ü¶Ö</div>
                </div>
            </div>
        </div>
    </div>

    <script>
        class Pet {
            constructor(name, type, emoji) {
                this.name = name;
                this.type = type;
                this.emoji = emoji;
                this.energy = 76;
                this.health = 100;
                this.maxHealth = 100;
                this.attack = 25;
                this.level = 1;
            }

            talk() {
                return `${this.name} bersuara dengan heroik!`;
            }

            eat(foodPower) {
                this.energy = Math.min(100, this.energy + foodPower);
                return `${this.name} makan dan energi bertambah ${foodPower}!`;
            }

            heal(healPower) {
                this.health = Math.min(this.maxHealth, this.health + healPower);
                return `${this.name} dipulihkan sebanyak ${healPower} HP!`;
            }

            increaseAttack(power) {
                this.attack += power;
                return `${this.name} attack meningkat ${power}!`;
            }
        }

        // Game State
        let myPet = new Pet("Phoenix", "Hero Bird", "ü¶Ö");
        let coins = 100;
        let inBattle = false;
        let enemy = null;

        // Update UI
        function updateUI() {
            document.getElementById('petName').textContent = myPet.name;
            document.getElementById('petType').textContent = myPet.type;
            document.getElementById('petAvatar').textContent = myPet.emoji;
            
            const energyPercent = (myPet.energy / 100) * 100;
            document.getElementById('energyValue').textContent = `${myPet.energy}/100`;
            document.getElementById('energyBar').style.width = energyPercent + '%';
            document.getElementById('energyBar').textContent = Math.round(energyPercent) + '%';
            
            const healthPercent = (myPet.health / myPet.maxHealth) * 100;
            document.getElementById('healthValue').textContent = `${myPet.health}/${myPet.maxHealth}`;
            document.getElementById('healthBar').style.width = healthPercent + '%';
            document.getElementById('healthBar').textContent = Math.round(healthPercent) + '%';
            
            document.getElementById('attackValue').textContent = myPet.attack;
            document.getElementById('attackBar').textContent = `Lvl ${myPet.level}`;
            
            document.getElementById('coins').textContent = coins;
        }

        // Log System
        function addLog(message, type = 'normal') {
            const logDiv = document.getElementById('log');
            const entry = document.createElement('div');
            entry.className = 'log-entry';
            if (type === 'success') entry.classList.add('log-success');
            if (type === 'error') entry.classList.add('log-error');
            if (type === 'battle') entry.classList.add('log-battle');
            entry.textContent = message;
            logDiv.insertBefore(entry, logDiv.firstChild);
            
            if (logDiv.children.length > 20) {
                logDiv.removeChild(logDiv.lastChild);
            }
        }

        // Feed Pet
        function feedPet() {
            if (myPet.energy >= 100) {
                addLog('Energy sudah penuh!', 'error');
                return;
            }
            const foodPower = 15;
            addLog(myPet.eat(foodPower), 'success');
            updateUI();
        }

        // Search Food (Promise based)
        function searchFood() {
            if (myPet.energy < 10) {
                addLog('Energy terlalu rendah untuk mencari makanan!', 'error');
                return;
            }

            myPet.energy -= 10;
            updateUI();

            addLog(`${myPet.name} mencari makanan ajaib...`);

            const promise = new Promise((resolve, reject) => {
                const time = Math.floor(Math.random() * 2000) + 1000;
                const success = Math.random() > 0.3;

                setTimeout(() => {
                    if (success) {
                        const foodPower = Math.floor(Math.random() * 20) + 20;
                        const coinReward = Math.floor(Math.random() * 15) + 5;
                        resolve({ foodPower, coinReward });
                    } else {
                        reject('Pencarian gagal! Tidak menemukan apa-apa.');
                    }
                }, time);
            });

            promise
                .then(result => {
                    myPet.eat(result.foodPower);
                    coins += result.coinReward;
                    addLog(`Berhasil! +${result.foodPower} Energy, +${result.coinReward} Coins!`, 'success');
                    updateUI();
                })
                .catch(error => {
                    addLog(error, 'error');
                });
        }

        // Train Pet
        function train() {
            if (myPet.energy < 20) {
                addLog('Energy tidak cukup untuk training!', 'error');
                return;
            }

            myPet.energy -= 20;
            const attackGain = Math.floor(Math.random() * 3) + 2;
            myPet.attack += attackGain;
            
            if (myPet.attack >= myPet.level * 30) {
                myPet.level++;
                myPet.maxHealth += 20;
                addLog(`LEVEL UP! ${myPet.name} sekarang Level ${myPet.level}!`, 'success');
            }
            
            addLog(`Training berhasil! Attack +${attackGain}`, 'success');
            updateUI();
        }

        // Shop System
        function buyItem(type, price, value) {
            if (coins < price) {
                addLog('Coins tidak cukup!', 'error');
                return;
            }

            coins -= price;

            switch(type) {
                case 'meat':
                    myPet.eat(value);
                    addLog(`Membeli Magic Meat! Energy +${value}`, 'success');
                    break;
                case 'health':
                    myPet.heal(value);
                    addLog(`Membeli Health Potion! HP +${value}`, 'success');
                    break;
                case 'attack':
                    myPet.increaseAttack(value);
                    addLog(`Membeli Power Crystal! Attack +${value}`, 'success');
                    break;
                case 'restore':
                    myPet.energy = 100;
                    myPet.health = myPet.maxHealth;
                    addLog('Full Restore! HP dan Energy penuh!', 'success');
                    break;
            }

            updateUI();
        }

        // Battle System
        function startBattle() {
            if (myPet.health < 30) {
                addLog('Health terlalu rendah untuk battle!', 'error');
                return;
            }

            const enemies = [
                { name: 'Dark Beast', emoji: 'üëπ', health: 80, attack: 15 },
                { name: 'Shadow Wolf', emoji: 'üê∫', health: 70, attack: 18 },
                { name: 'Dragon', emoji: 'üêâ', health: 120, attack: 20 },
                { name: 'Evil Wizard', emoji: 'üßô', health: 90, attack: 22 }
            ];

            enemy = enemies[Math.floor(Math.random() * enemies.length)];
            enemy.maxHealth = enemy.health;

            inBattle = true;
            document.getElementById('battleCard').style.display = 'block';
            document.getElementById('enemyFighter').textContent = enemy.emoji;
            document.getElementById('enemyName').textContent = enemy.name;
            document.getElementById('playerName').textContent = myPet.name;
            document.getElementById('playerFighter').textContent = myPet.emoji;
            document.getElementById('playerBattleHP').textContent = myPet.health;
            document.getElementById('enemyBattleHP').textContent = enemy.health;

            addLog(`Battle dimulai melawan ${enemy.name}!`, 'battle');
        }

        function attack() {
            if (!inBattle) return;

            const damage = Math.floor(Math.random() * 10) + myPet.attack;
            enemy.health = Math.max(0, enemy.health - damage);
            
            document.getElementById('enemyFighter').classList.add('shake');
            setTimeout(() => {
                document.getElementById('enemyFighter').classList.remove('shake');
            }, 300);

            addLog(`${myPet.name} menyerang! ${enemy.name} menerima ${damage} damage!`, 'battle');
            document.getElementById('enemyBattleHP').textContent = enemy.health;

            if (enemy.health <= 0) {
                winBattle();
                return;
            }

            enemyTurn();
        }

        function defend() {
            if (!inBattle) return;
            
            addLog(`${myPet.name} bertahan!`, 'battle');
            const reducedDamage = Math.floor((Math.random() * 5) + enemy.attack / 2);
            myPet.health = Math.max(0, myPet.health - reducedDamage);
            
            document.getElementById('playerFighter').classList.add('shake');
            setTimeout(() => {
                document.getElementById('playerFighter').classList.remove('shake');
            }, 300);

            addLog(`${enemy.name} menyerang! ${myPet.name} menerima ${reducedDamage} damage (reduced)!`, 'battle');
            document.getElementById('playerBattleHP').textContent = myPet.health;

            if (myPet.health <= 0) {
                loseBattle();
            }
        }

        function useSkill() {
            if (!inBattle) return;
            if (myPet.energy < 30) {
                addLog('Energy tidak cukup untuk skill!', 'error');
                return;
            }

            myPet.energy -= 30;
            const damage = Math.floor(Math.random() * 20) + myPet.attack * 2;
            enemy.health = Math.max(0, enemy.health - damage);
            
            document.getElementById('enemyFighter').classList.add('shake');
            setTimeout(() => {
                document.getElementById('enemyFighter').classList.remove('shake');
            }, 300);

            addLog(`‚ú® ${myPet.name} menggunakan Special Skill! ${damage} DAMAGE!`, 'battle');
            document.getElementById('enemyBattleHP').textContent = enemy.health;
            updateUI();

            if (enemy.health <= 0) {
                winBattle();
                return;
            }

            enemyTurn();
        }

        function enemyTurn() {
            setTimeout(() => {
                const damage = Math.floor(Math.random() * 8) + enemy.attack;
                myPet.health = Math.max(0, myPet.health - damage);
                
                document.getElementById('playerFighter').classList.add('shake');
                setTimeout(() => {
                    document.getElementById('playerFighter').classList.remove('shake');
                }, 300);

                addLog(`${enemy.name} menyerang balik! ${myPet.name} menerima ${damage} damage!`, 'battle');
                document.getElementById('playerBattleHP').textContent = myPet.health;
                updateUI();

                if (myPet.health <= 0) {
                    loseBattle();
                }
            }, 1000);
        }

        function winBattle() {
            const reward = Math.floor(Math.random() * 40) + 30;
            coins += reward;
            addLog(`üéâ MENANG! ${enemy.name} dikalahkan! Reward: ${reward} coins!`, 'success');
            endBattle();
        }

        function loseBattle() {
            addLog(`üíÄ KALAH! ${myPet.name} tidak kuat melawan ${enemy.name}!`, 'error');
            myPet.health = 20;
            endBattle();
        }

        function endBattle() {
            inBattle = false;
            enemy = null;
            document.getElementById('battleCard').style.display = 'none';
            updateUI();
        }

        // Initialize
        updateUI();
        addLog('Game dimulai! Selamat bermain! üéÆ', 'success');
    </script>
</body>
</html>
